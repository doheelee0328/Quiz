{"ast":null,"code":"var _jsxFileName = \"/Users/doheelee/Desktop/smart-duck/client/src/pages/login/Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeCharacter } from '../../slices/character';\nimport '../../scss/main.scss';\nimport Button from '../../components/Buttons';\nimport { useNavigate } from 'react-router-dom';\nimport { io } from 'socket.io-client';\n// this the socket client version\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const inputRef = useRef(null);\n  const [room, setRoom] = useState('');\n  const [nickName, setNickname] = useState('');\n  const [message, setMessage] = useState('');\n  const dispatch = useDispatch();\n  const selectedCharacter = useSelector(state => state.characterSlice.character);\n  const navigate = useNavigate();\n  const navigateToTheCharacterPage = () => navigate('/character');\n  const navigateToTheRulePage = () => navigate('/rules');\n  const socket = io('http://localhost:5001/');\n\n  // socket.on('connect', () => {\n  //   setMessage(`You connected with the id, ${socket.id}`)\n  // })\n\n  // socket.on('join-room', (name) => {\n  //   setMessage(`You have joined the room ${name}`)\n  // })\n  // listens the event and displays the message\n\n  // how to send from the client to the server\n  // socket.emit('custom event', 10, 'hi', { a: 1 })\n\n  const joinPlayerSubmitHandler = () => {\n    if (!nickName && !room) {\n      setMessage('Please enter your nickname to join the room');\n      return;\n    } else {\n      socket.emit('join-room', room, nickName, message => {\n        setMessage(message);\n      });\n      console.log(room, nickName);\n    }\n    setRoom('');\n    setNickname('');\n  };\n  const joinNewGameHandler = () => {\n    if (!nickName) {\n      setMessage('Please enter your username to join the quiz');\n      return;\n    } else {\n      navigate('/rule');\n    }\n    setNickname('');\n  };\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n    const storedCharacter = localStorage.getItem('character-image');\n    if (storedCharacter) {\n      dispatch(changeCharacter(storedCharacter));\n    }\n  }, [dispatch, selectedCharacter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [selectedCharacter && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: selectedCharacter,\n      alt: \"selected-character\",\n      className: \"selected-character\",\n      \"data-cy\": \"selected-character\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"nickname\",\n      \"data-cy\": \"nickname\",\n      children: \"Username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: inputRef,\n      className: \"input\",\n      \"data-cy\": \"input\",\n      onChange: e => setNickname(e.target.value),\n      value: nickName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"nickname\",\n      \"data-cy\": \"nickname\",\n      children: \"Room\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: inputRef,\n      className: \"input\",\n      \"data-cy\": \"input\",\n      onChange: e => setRoom(e.target.value),\n      value: room\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"start-game-container\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        title: \"Join Game own your own\",\n        onClick: joinNewGameHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        title: \"Join Game with friends\",\n        onClick: joinPlayerSubmitHandler,\n        dataCy: \"join-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        title: \"Back\",\n        onClick: navigateToTheCharacterPage,\n        dataCy: \"back-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        title: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"1TrACM+vUVVwn9hxSEXOHHm3TL8=\", false, function () {\n  return [useDispatch, useSelector, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useSelector","useDispatch","changeCharacter","Button","useNavigate","io","jsxDEV","_jsxDEV","Login","_s","inputRef","room","setRoom","nickName","setNickname","message","setMessage","dispatch","selectedCharacter","state","characterSlice","character","navigate","navigateToTheCharacterPage","navigateToTheRulePage","socket","joinPlayerSubmitHandler","emit","console","log","joinNewGameHandler","current","focus","storedCharacter","localStorage","getItem","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","ref","onChange","e","target","value","title","onClick","dataCy","_c","$RefreshReg$"],"sources":["/Users/doheelee/Desktop/smart-duck/client/src/pages/login/Login.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { changeCharacter } from '../../slices/character'\nimport '../../scss/main.scss'\nimport Button from '../../components/Buttons'\nimport { useNavigate } from 'react-router-dom'\nimport { io } from 'socket.io-client'\n// this the socket client version\n\nconst Login = () => {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [room, setRoom] = useState('')\n  const [nickName, setNickname] = useState('')\n  const [message, setMessage] = useState('')\n  const dispatch = useDispatch()\n  const selectedCharacter = useSelector(\n    (state: any) => state.characterSlice.character\n  )\n  const navigate = useNavigate()\n\n  const navigateToTheCharacterPage = () => navigate('/character')\n  const navigateToTheRulePage = () => navigate('/rules')\n\n  const socket = io('http://localhost:5001/')\n\n  // socket.on('connect', () => {\n  //   setMessage(`You connected with the id, ${socket.id}`)\n  // })\n\n  // socket.on('join-room', (name) => {\n  //   setMessage(`You have joined the room ${name}`)\n  // })\n  // listens the event and displays the message\n\n  // how to send from the client to the server\n  // socket.emit('custom event', 10, 'hi', { a: 1 })\n\n  const joinPlayerSubmitHandler = () => {\n    if (!nickName && !room) {\n      setMessage('Please enter your nickname to join the room')\n      return\n    } else {\n      socket.emit(\n        'join-room',\n        room,\n        nickName,\n        (message: React.SetStateAction<string>) => {\n          setMessage(message)\n        }\n      )\n      console.log(room, nickName)\n    }\n    setRoom('')\n    setNickname('')\n  }\n\n  const joinNewGameHandler = () => {\n    if (!nickName) {\n      setMessage('Please enter your username to join the quiz')\n      return\n    } else {\n      navigate('/rule')\n    }\n    setNickname('')\n  }\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus()\n    }\n    const storedCharacter = localStorage.getItem('character-image')\n    if (storedCharacter) {\n      dispatch(changeCharacter(storedCharacter))\n    }\n  }, [dispatch, selectedCharacter])\n\n  return (\n    <div className='login-container'>\n      {selectedCharacter && (\n        <img\n          src={selectedCharacter}\n          alt='selected-character'\n          className='selected-character'\n          data-cy='selected-character'\n        />\n      )}\n      <p className='nickname' data-cy='nickname'>\n        Username\n      </p>\n      <input\n        type='text'\n        ref={inputRef}\n        className='input'\n        data-cy='input'\n        onChange={(e) => setNickname(e.target.value)}\n        value={nickName}\n      />\n      <p className='nickname' data-cy='nickname'>\n        Room\n      </p>\n      <input\n        type='text'\n        ref={inputRef}\n        className='input'\n        data-cy='input'\n        onChange={(e) => setRoom(e.target.value)}\n        value={room}\n      />\n\n      <div className='start-game-container'>\n        <Button title='Join Game own your own' onClick={joinNewGameHandler} />\n        <Button\n          title='Join Game with friends'\n          onClick={joinPlayerSubmitHandler}\n          dataCy='join-button'\n        />\n      </div>\n\n      {message && <p>{message}</p>}\n      <div className='button-container'>\n        <Button\n          title='Back'\n          onClick={navigateToTheCharacterPage}\n          dataCy='back-button'\n        />\n        <Button title='Next' />\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}